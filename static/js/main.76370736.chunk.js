(this.webpackJsonpreactapi=this.webpackJsonpreactapi||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(8),s=a.n(r),i=(a(14),a(15),a(16),a(0));var o=function(){return Object(i.jsx)("header",{children:Object(i.jsx)("h1",{children:"REACTApi"})})},u=a(2);a(18),a(19);var l=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],r=a[1];return Object(i.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.searchBand(c)},children:[Object(i.jsx)("input",{type:"text",className:"Search__searchText",placeholder:"Busca tu banda",onChange:function(e){r(e.target.value)}}),Object(i.jsx)("input",{type:"submit",value:"Buscar"})]})},d=(a(20),a(3)),j=a.n(d),p=a(4),b=a(9);function O(){return(O=Object(p.a)(j.a.mark((function e(t,a){var n,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Headers).append.apply(n,Object(b.a)(a)),c=new Request(t,{headers:n}),e.next=5,fetch(c);case 5:if(!(r=e.sent).ok){e.next=12;break}return e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 12:throw new Error("Request failed with ".concat(r.status));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(e,t){return O.apply(this,arguments)};var m=function(e){var t=function(){var e=Object(n.useState)({isLoading:!1,isSuccess:!1,isFailed:!1,data:null,error:null}),t=Object(u.a)(e,2),a=t[0],c=t[1];return[a,Object(n.useCallback)(function(){var e=Object(p.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat((a={TOKEN:"UTtvCaiWDvNQrjQUXmBqZncsMQzXXMrrsOvlTujQ",URL:"https://api.discogs.com/",HEADER:["User-Agent","accept: application/json","Content-Type: application/json","musicAPIs v0.1 https://rovilram.github.io/musicAPI/"]}).URL,"artists/").concat(t,"?token=").concat(a.TOKEN),e.prev=2,c({isLoading:!0,isSuccess:!1,isFailed:!1,error:null,data:null}),e.next=6,h(n,a.HEADER);case 6:return r=e.sent,c({isLoading:!1,isSuccess:!0,isFailed:!1,error:null,data:r}),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(2),c({isLoading:!1,isSuccess:!1,isFailed:!0,error:e.t0,data:null});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),[])]}(),a=Object(u.a)(t,2),c=a[0],r=a[1],s=function(){var e=Object(n.useState)({isLoading:!1,isSuccess:!1,isFailed:!1,data:null,error:null}),t=Object(u.a)(e,2),a=t[0],c=t[1];return[a,Object(n.useCallback)(function(){var e=Object(p.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat((a={TOKEN:"UTtvCaiWDvNQrjQUXmBqZncsMQzXXMrrsOvlTujQ",URL:"https://api.discogs.com/",HEADER:["User-Agent","accept: application/json","Content-Type: application/json","musicAPIs v0.1 https://rovilram.github.io/musicAPI/"]}).URL,"artists/").concat(t,"/releases?token=").concat(a.TOKEN,"&sort=year&per_page=200"),console.log("DISCO URL",n),e.prev=3,c({isLoading:!0,isSuccess:!1,isFailed:!1,error:null,data:null}),e.next=7,h(n,a.HEADER);case 7:return r=e.sent,c({isLoading:!1,isSuccess:!0,isFailed:!1,error:null,data:r.releases}),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(3),c({isLoading:!1,isSuccess:!1,isFailed:!0,error:e.t0,data:null});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),[])]}(),o=Object(u.a)(s,2),l=o[0],d=o[1];return console.log(c),Object(n.useEffect)((function(){r(e.id),d(e.id)}),[r,d,e.id]),Object(i.jsxs)("div",{className:"BandInfo__Wrapper",children:[c.isLoading&&"Loading Band Info...",c.isFailed&&"Error loading Band info.",c.isSuccess&&Object(i.jsxs)(n.Fragment,{children:[Object(i.jsx)("h2",{children:c.data.name}),c.data.images&&Object(i.jsx)("img",{src:c.data.images[0].uri,alt:"".concat(c.data.name),className:"BandInfo__image"}),c.data.profile&&Object(i.jsxs)(n.Fragment,{children:[Object(i.jsx)("h3",{children:"BIOGRAFY"}),Object(i.jsx)("div",{className:"biografy",children:c.data.profile})]}),c.data.members&&Object(i.jsxs)(n.Fragment,{children:[Object(i.jsx)("h3",{children:"MEMBERS"}),Object(i.jsx)("div",{className:"bandMembers",children:c.data.members.map((function(e){return Object(i.jsxs)("div",{className:"memberWrapper",children:[Object(i.jsx)("p",{className:"memberName",children:e.name}),Object(i.jsx)("img",{src:e.thumbnail_url,alt:e.name})]},e.id)}))})]}),Object(i.jsxs)("div",{className:"discography",children:[l.isLoading&&"LOADING DISCOGRAPHY INFO",l.isFailed&&"ERROR LOADING DISCOGRAPHY",l.data&&0!==l.data.length&&Object(i.jsxs)(n.Fragment,{children:[Object(i.jsx)("h3",{children:"DISCOGRAPHY"}),Object(i.jsx)("div",{className:"discography",children:(console.log("DISCO",l.data),l.data.map((function(e){return Object(i.jsxs)("div",{className:"discoWrapper",children:[Object(i.jsxs)("p",{className:"discoText",children:[e.artist," - ",e.title," (",e.year,")"]}),Object(i.jsx)("img",{src:e.thumb,alt:e.title})]},e.id)})))})]})]})]})]})};var f=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),o=Object(u.a)(s,2),d=o[0],b=o[1],O=function(){var e=Object(n.useState)({isLoading:!1,isSuccess:!1,isFailed:!1,data:null,error:null}),t=Object(u.a)(e,2),a=t[0],c=t[1];return[a,Object(n.useCallback)(function(){var e=Object(p.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat((a={TOKEN:"UTtvCaiWDvNQrjQUXmBqZncsMQzXXMrrsOvlTujQ",URL:"https://api.discogs.com/",HEADER:["User-Agent","accept: application/json","Content-Type: application/json","musicAPIs v0.1 https://rovilram.github.io/musicAPI/"]}).URL,"/database/search?q=").concat(t,"&token=").concat(a.TOKEN,"&type=artist&per_page=10"),e.prev=2,c({isLoading:!0,isSuccess:!1,isFailed:!1,error:null,data:null}),e.next=6,h(n,a.HEADER);case 6:return r=e.sent,c({isLoading:!1,isSuccess:!0,isFailed:!1,error:null,data:r.results}),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(2),c({isLoading:!1,isSuccess:!1,isFailed:!0,error:e.t0,data:null});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),[])]}(),f=Object(u.a)(O,2),v=f[0],x=f[1];return Object(n.useEffect)((function(){c&&x(c)}),[x,c]),Object(i.jsxs)("main",{children:[Object(i.jsx)(l,{searchBand:function(e){console.log("texto de b\xfasqueda:",e),r(e),b("")}}),v.isLoading&&Object(i.jsx)("div",{children:"Cargando artista"}),v.isFailed&&Object(i.jsx)("div",{children:"Fallo recuperando artista"}),!d&&c&&v.isSuccess&&function(){var e=v.data.map((function(e){return Object(i.jsxs)("article",{onClick:function(){return t=e.id,void b(t);var t},className:"artistWrapper",target:"_blank",rel:"noreferrer",children:[Object(i.jsx)("div",{className:"artistTitle",children:e.title}),Object(i.jsx)("img",{src:e.thumb,alt:""})]},e.id)}));return v.data.map((function(e){return console.log(e)})),e}(),d&&Object(i.jsx)("div",{children:Object(i.jsx)(m,{id:d})})]})};a(22);var v=function(e){return Object(i.jsxs)("footer",{children:[Object(i.jsx)("div",{className:"footerText",children:"Buscador de m\xfasica con REACT"}),Object(i.jsx)("small",{children:Object(i.jsx)("div",{className:"footerCopyleft",children:"\ud83c\udd2f 2021 Rovilram"})})]})};var x=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(o,{}),Object(i.jsx)(f,{}),Object(i.jsx)(v,{})]})},g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,24)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(x,{})}),document.getElementById("root")),g()}],[[23,1,2]]]);
//# sourceMappingURL=main.76370736.chunk.js.map